<head>
  <style>
    {{#if (isDarkMode config.theme)}}
      :root { --background: #212121; --text-colour: #ffffff; --hr: #464548; }
    {{else}}
      :root { --background: #ffffff; --text-colour: #505958; --hr: #ddd; }
    {{/if}}
  </style>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="600"
    height="{{getHeight data.items}}"
    viewBox="0 0 600 {{getHeight data.items}}"
    fill="none"
  >
    <rect class="bg" width="100%" height="100%" rx="5"></rect>
    {{#unless config.hideProfile}}
      <g id="profile">

      </g>
    {{/unless}}
    <g id="history">
      {{#each data.items}}
        <g class="item" style="transform:translate(0, {{offset @index}}px);">
          <image
            class="artwork"
            href="{{this.albumArt}}"
            height="40"
            width="40"
          />
          <a class="link text" href="{{this.albumLink}}" target="_blank">
            <text class="title">{{truncate this.title}}</text>
            <text class="artist">{{this.artist}}</text>
          </a>
          {{#if this.favFeatTrack}}
            <g class="fav-feat">
              <text class="fav-feat-title text">
                {{#if this.isCollection}}favourite{{else}}featured{{/if}}
                track
              </text>
              <a
                class="link text"
                href="{{this.favFeatTrackLink}}"
                target="_blank"
              >
                <text class="fav-feat-track">{{this.favFeatTrack}}</text>
              </a>
            </g>
          {{/if}}
          <g class="icon">
            {{#if this.isCollection}}
              <svg
                class="heart"
                fill="transparent"
                viewBox="0 0 512 512"
                height="30px"
                width="30px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  class="path"
                  d="M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z"
                >
                </path>
              </svg>
              <title>In collection</title>
            {{else}}
              <svg
                class="bag"
                fill="transparent"
                viewBox="0 0 512 512"
                height="30px"
                width="30px"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="path"
                  d="M80 176a16 16 0 00-16 16v216c0 30.24 25.76 56 56 56h272c30.24 0 56-24.51 56-54.75V192a16 16 0 00-16-16zm80 0v-32a96 96 0 0196-96h0a96 96 0 0196 96v32"
                >
                </path>
              </svg>
              <title>In wishlist</title>
            {{/if}}
          </g>
          <rect class="hr" x="10" width="580" y="60" height="1">
          </rect>
        </g>
      {{/each}}
    </g>
  </svg>
</body>