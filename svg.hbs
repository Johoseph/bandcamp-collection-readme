<head>
  <style>
    {{#if (isDarkMode config.theme)}}
      :root { --background: #212121; --text-colour: #ffffff; --hr: #464548; }
    {{else}}
      :root { --background: #ffffff; --text-colour: #505958; --hr: #ddd; }
    {{/if}}
  </style>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="600"
    height="{{getHeight data.items}}"
    viewBox="0 0 600 {{getHeight data.items}}"
    fill="none"
  >
    <rect class="bg" width="100%" height="100%" rx="5"></rect>
    {{#unless config.hideProfile}}
      <g id="profile">

      </g>
    {{/unless}}
    <g id="history">
      {{#each data.items}}
        <g class="item" style="transform:translate(0, {{offset @index}}px);">
          <image
            class="artwork"
            href="{{this.albumArt}}"
            height="40"
            width="40"
          />
          <a class="link text" href="{{this.albumLink}}" target="_blank">
            <text class="title">{{truncate this.title}}</text>
            <text class="artist">{{this.artist}}</text>
          </a>
          {{#if this.favFeatTrack}}
            <g class="fav-feat">
              <text class="fav-feat-title text">
                {{#if this.isCollection}}favourite{{else}}featured{{/if}}
                track
              </text>
              <a
                class="link text"
                href="{{this.favFeatTrackLink}}"
                target="_blank"
              >
                <text class="fav-feat-track">{{this.favFeatTrack}}</text>
              </a>
            </g>
          {{/if}}
          <g class="icon">
            {{#if this.isCollection}}
              {{> heart }}
            {{else}}
              {{> bag }}
            {{/if}}
          </g>
          <rect class="hr" x="10" width="580" y="60" height="1">
          </rect>
        </g>
      {{/each}}
    </g>
  </svg>
</body>